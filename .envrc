# Load environment variables from .env file
dotenv

# Set default server port if not already set
export SERVER_PORT=${SERVER_PORT:-8082}

# Optional: Set other common environment variables
export JAVA_OPTS="-XX:MaxRAMPercentage=75 -XX:+AlwaysActAsServerClassMachine"

# Optional: Set JWT secret for local development
export JWT_SECRET_KEY="it-must-be-a-string-secret-at-least-256-bits-long"

# Optional: Set Azure Application Insights key for local development
export AZURE_APPLICATION_INSIGHTS_INSTRUMENTATION_KEY="00000000-0000-0000-0000-000000000000"

# Optional: Set cluster and region for local development
export CLUSTER_NAME="local"
export REGION="local"

# Optional: Set tracing configuration
export TRACING_SAMPLER_PROBABILITY="1.0"
export OTEL_TRACES_URL="http://localhost:4318/v1/traces"
export OTEL_METRICS_ENABLED="false"
export OTEL_METRICS_URL="http://localhost:4318/v1/metrics"

# Optional: Set virtual threads (Java 21 feature)
export VIRTUAL_THREADS="false"

# Optional: Set management server port (defaults to same as server port)
export MANAGEMENT_SERVER_PORT=${MANAGEMENT_SERVER_PORT:-${SERVER_PORT}}

# Log the loaded configuration
echo "ðŸ”§ Environment loaded for Spring Boot service"
echo "   Server Port: ${SERVER_PORT}"
echo "   Management Port: ${MANAGEMENT_SERVER_PORT}"
echo "   Java Options: ${JAVA_OPTS}"
echo "   Virtual Threads: ${VIRTUAL_THREADS}"
